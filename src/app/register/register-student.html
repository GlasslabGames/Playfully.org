<div class="modal-header">
  <button type="button" class="close" data-dismiss="modal" ng-click="$close()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
  <h3 class="modal-title">Create a Playfully Account!</h3>
</div>

<div class="modal-body" ng-hide="account">
  <p class="text-center">
    Hi there! Please enter your registration code to begin registration.
  </p>
  &nbsp;

  <alert ng-repeat="error in confirmation.errors" ng-show="confirmation.errors.length" type="danger"><strong>Error:</strong> {{ error }}</alert>

  <form name="regInit" novalidate class="reg-form"
    ng-submit="confirmCode(confirmation)">

    <div class="form-group" ng-class="{'has-error': regInit.code.$dirty && regInit.code.$invalid}">
      <input type="text" name="code" class="form-control"
        placeholder="Classcode"
        required
        autofocus="autofocus"
        ng-model="confirmation.code"
        ng-minlength="5">
        &nbsp;<span class="fa fa-question-circle"
          popover-placement="top"
          popover="If you don't have a classcode, ask your teacher for one"></span>
        <div class="form-errors">
          <div class="form-error" ng-show="regInit.code.$dirty && regInit.code.$invalid">
            Classcode must be at least 5 characters
          </div>
        </div>
    </div>

    <div class="text-center reg-submit">
      <input type="submit" class="btn gl-btn--blue" value="Confirm Classcode"
      ng-disabled="regInit.$invalid">
    </div>
  </form>
</div>


<div class="modal-body" ng-show="account">
  <div class="gl-class-info text-center">
    <div>This is [need name]&rsquo;s class: {{ course.title }}</div>
    <div>Classcode: {{ account.regCode }}</div>
  </div>
  <p class="text-center">
    Continue to finish registration
  </p>

  <alert ng-repeat="error in account.errors" ng-show="account.errors.length" type="danger"><strong>Error:</strong> {{ error }}</alert>

  <form name="regForm" novalidate class="reg-form"
    ng-submit="register(account)">

    <div class="form-group" ng-class="{'has-error': regForm.username.$dirty && regForm.username.$invalid}">
      <input type="text" name="username" class="form-control"
        placeholder="Choose a screen name"
        required
        autofocus="autofocus"
        ng-model="account.username"
        ng-minlength="2">
        &nbsp;<span class="fa fa-question-circle"
          popover-placement="bottom"
          popover="How would you like your name to be displayed?"></span>
        <div class="form-errors">
          <div class="form-error" ng-show="regForm.username.$dirty && regForm.username.$invalid">
            Name must be at least 2 characters
          </div>
        </div>
    </div>

    <div class="form-group" ng-class="{'has-error': regForm.password.$dirty && regForm.password.$error.minlength}">
      <input type="password" name="password" class="form-control" id="account-password" placeholder="Choose a password" required ng-model="account.password"
      ng-minlength="6"
      pw-confirm="account.confirm">
        &nbsp;<span class="fa fa-question-circle"
          popover-placement="top"
          popover="At least 6 characters"></span>
      <div class="form-errors">
        <div class="form-error" ng-show="regForm.password.$dirty && regForm.password.$error.minlength">
          Your password must be at least 6 characters
        </div>
      </div>
    </div>

    <div class="form-group" ng-class="{'has-error': regForm.confirm.$dirty && regForm.password.$invalid}">
      <input type="password" name="confirm" class="form-control" id="account-confirm" placeholder="Confirm password" required
      ng-model="account.confirm">
      <div class="form-errors">
        <div class="form-error" ng-show="regForm.confirm.$dirty && regForm.password.$error.pwmatch">
          Passwords do not match
        </div>
      </div>
    </div>

    <div class="form-group gl-form-group--inline" ng-class="{'has-error': regForm.firstName.$dirty && regForm.firstName.$invalid}">
      <input type="text" name="firstName" class="form-control"
        placeholder="Your first name"
        required
        ng-model="account.firstName"
        ng-minlength="2">
        <div class="form-errors">
          <div class="form-error" ng-show="regForm.firstName.$dirty && regForm.firstName.$invalid">
            At least 2 characters
          </div>
        </div>
    </div>

    <div class="form-group gl-form-group--inline" ng-class="{'has-error': regForm.lastName.$dirty && regForm.lastName.$invalid}">
      <input type="text" name="lastName" class="form-control gl-form-input--short"
        maxlength="1"
        placeholder="Last initial"
        required
        ng-model="account.lastName"
        ng-minlength="1"
        ng-maxlength="1">
        <div class="form-errors">
          <div class="form-error" ng-show="regForm.lastName.$dirty && regForm.lastName.$invalid">
            Cannot be blank
          </div>
        </div>
    </div>


    <div class="text-center reg-submit">
      <input type="submit" class="btn gl-btn--blue" value="Register"
      ng-disabled="regForm.$invalid">
    </div>
  </form>
</div>

</div>
