<article class="legend-header">
    <p class="legend-header"><span>Competency Levels</span></p>
</article>

<div class="gl-reports-competency-labels">
  <table>
    <tr>
      <td class="gl-reports-competency-label" ng-repeat="label in reportInfo.labels">
        <div class="gl-reports-competency-label-container">
          <div class="gl-reports-competency-label-icon gl-reports-competency-outer-circle">
            <div class="gl-reports-competency-circle" ng-class="getLabelInfo(label.id,'class')">
            </div>
          </div><div class="gl-reports-competency-label-text" ng-bind="label.title"></div>
        </div>
      </td>
    </tr>
  </table>
</div>
<hr/>

<table class="table gl-reports-table gl-reports-table--eql-mrgn"
       ng-class="{'gl-reports-table--ie': isIE}" sticky collapse-class=".gl-reports-sowo-header-info">
  <thead>
  <tr>
    <th style="min-width:6em;">
      Name
      <i class="col-sort" ng-class="col.current==='firstName' ? (col[col.current].reverse ? 'highlight fa fa-sort-up' : 'highlight fa fa-sort-down' ) : 'fa fa-sort-down'"
         ng-click="colName.value = 'firstName'; sortSelected('firstName')"></i>
    </th>

    <th>
      Game Progress
      <i class="col-sort" ng-class="col.current==='progress' ? (col[col.current].reverse ? 'highlight fa fa-sort-up' : 'highlight fa fa-sort-down' ) : 'fa fa-sort-down'"
         ng-click="colName.value = 'progress'; sortSelected('progress')"></i>
    </th>

    <th class="text-center">
      <div class="container-fluid">
        <div class="row gl-margin--Bm">
          <div class="col-md-12 text-center">
            Competency Facets
          </div>
        </div>
        <div class="row">
          <div class="col-md-3 gl-reports-colhead" ng-repeat="facetHeader in reportInfo.headers.facets">
            {{facetHeader.title}}
            <i class="col-sort" ng-class="col.current==='{{facetHeader.id}}' ? (col[col.current].reverse ? 'highlight fa fa-sort-up' : 'highlight fa fa-sort-down' ) : 'fa fa-sort-down'"
              ng-click="colName.value = '{{facetHeader.id}}'; sortSelected('{{facetHeader.id}}')"></i>
          </div>
        </div>
      </div>
    </th>

    <th>
      {{reportInfo.headers.competency.title}}
    </th>
  </tr>
  <tr>
    <th colspan="5" class="gl-reports-divider--blue"></th>
  </tr>
  </thead>
  <tbody>

    <tr class="gl-reports-table-row" ng-repeat="student in courses.options[courses.selectedCourseId].users | filter:{isSelected: true} | orderBy:userSortFunction(colName.value):col[col.current].reverse">
      <td class="gl-nobr">{{ student.firstName }} {{ student.lastName }}.</td>
      <td>
        <div class="gl-progress-levels gl-nobr">{{student.competency.gameProgress}} / 42 Levels</div>
        <div class="gl-progress-meter-outer gl-margin--Txs">
          <div class="gl-progress-meter-inner"
            ng-style="{ 'width': getProgressPercentage(student.competency.gameProgress,42) }">
          </div>
        </div>
      </td>
      <td>
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-3 text-center" ng-repeat="facet in student.competency.facets">
              <span class="competency {{facet.iconClass}}"></span>
            </div>
          </div>
        </div>
      </td>
      <td>
        <span class="competency {{student.competency.competency.iconClass}}"></span>
      </td>
    </tr>
  </tbody>

    <!--tbody ng-show="courses.options[courses.selectedCourseId].users">
    <tr class="gl-reports-table-row"
        ng-repeat="student in courses.options[courses.selectedCourseId].users | hasSOWO: reportInfo.selectedGroupId | orderBy:userSortFunction(colName.value):col[col.current].reverse">
        <td class="gl-nobr">
          {{ student.firstName }} {{ student.lastName }}.</td>
        <td class="gl-reports-sowo" ng-repeat="sowo in reportInfo.activeHeaders">
          <div ng-class="getLabelInfo(reportInfo.selectedGroupId)"
            ng-if="features.canRemoveWO"
            ng-click="removeWO(sowo.id, student)"
            ng-attr-title="{{(reportInfo.selectedGroupId == 'wo') ? 'Remove Watch Out' : ''}}"
              ng-show="hasSOWO(sowo.id, student)"></div>
          <div ng-class="getLabelInfo(reportInfo.selectedGroupId)"
            ng-if="!features.canRemoveWO"
            ng-show="hasSOWO(sowo.id, student)"></div>
        </td>
    </tr>
    </tbody>
  <tr ng-hide="courses.options[courses.selectedCourseId].users">
    <td colspan="5" >
      <div class="text-center gl-pad-Vxxl">
        No students are currently enrolled in this class. As students begin to play the game and earn comps, you
        will see them here.
      </div>
    </td>
  </tr>
    <tr style="height:100px" ng-show="reportInfo.selectedGroupId==='wo'">
        <div class="gl-reports-what-now-container">
            <td colspan="5" class="gl-reports-what-now-header text-center">
            <h5 class="gl-reports-what-now-text">What Now ?</h5>
            <p>Here are some actions your students can take:</p>
            <i ng-class="whatNow.isCollapsed ? 'fa fa-caret-square-o-down' : 'fa fa-caret-square-o-up'"
                ng-click="whatNow.isCollapsed  = !whatNow.isCollapsed"></i>
                <div class="gl-reports-what-now-body text-center" collapse="whatNow.isCollapsed">
                    </br>
                    </br>
                    Coming Soon!
                    </br>
                    </br>
                    </br>
                </div>
            </td>

        </div>
    </tr>
  </tbody-->
</table>
