<div class="container-fluid competency-key">
  <div class="competency-key-inner">
    <div class="competency-key-title">Competency Levels</div>
    <div class="row gl-margin--Ts">
      <div class="col-md-3 text-center">
        <span class="competency competency-1 competency--small gl-margin--Rxs"></span>
        Not Mastered
      </div>
      <div class="col-md-3 text-center">
        <span class="competency competency-2 competency--small gl-margin--Rxs"></span>
        Approaching Mastery
      </div>
      <div class="col-md-3 text-center">
        <span class="competency competency-3 competency--small gl-margin--Rxs"></span>
        Mastered
      </div>
      <div class="col-md-3 text-center">
        <span class="competency competency-0 competency--small gl-margin--Rxs"></span>
        Not Enough Data
      </div>
    </div>
  </div>
</div>

<div class="report-container--wide gl-margin--Txl gl-margin--Bxl">
  <div ng-include src="'instructor/reports/_students.html'"></div>

  <div class="report-body--wide gl-pad-Al">
    <h1 class="headline-2 text-center gl-margin--Tl"
      ng-bind="reports.selected.header.text"></h1>

    <p class="text-center" ng-bind="reports.selected.description">
    </p>










<div class="gl-reports-btn-group-container gl-margin--Txl gl-margin--Bxl">
  <div class="btn-group btn-group-justified">
    <label class="btn"
           ng-if="reportInfo.groups.length > 1"
           ng-repeat="group in reportInfo.groups"
           ng-model="reportInfo.selected"
           ng-class="{'gl-btn--ltgrey': reportInfo.selectedGroupId != group.id,
        'gl-btn--blue': reportInfo.selectedGroupId == group.id}"
           ui-sref="root.reports.details.sowo({reportId:reports.selected.id, gameId:games.selectedGameId, courseId:courses.selectedCourseId, skillsId:group.id, stdntIds: getSelectedStudents(activeCourse)})"
           ng-bind="group.title | translate"></label>
  </div>
</div>

<hr/>

<table class="table gl-reports-table"
       ng-class="{'gl-reports-table--ie': isIE}" sticky collapse-class=".gl-reports-sowo-header-info">
  <thead>
  <tr>
      <td colspan="9" class="gl-reports-sowo-selector text-center">
          <a href class="gl-reports-sowo-arrow"
             ng-click="selectActiveHeaders(reportInfo.activeHeaders, reportInfo.startIndex - 1)"
             ng-class="{'gl-reports-sowo-arrow--disabled': reportInfo.startIndex == 0}">
              <i class="fa fa-arrow-left"></i>
          </a> &nbsp;
          {{ (reportInfo.startIndex + 1) }}{{ (reportInfo.totalCount < 3 ? '' : '-' + (reportInfo.startIndex + 3)) }} / {{
          reportInfo.totalCount }} {{reportInfo.selectedGroup.title}}
          &nbsp;
          <a href class="gl-reports-sowo-arrow"
             ng-click="selectActiveHeaders(reportInfo.activeHeaders, reportInfo.startIndex + 1)"
             ng-class="{'gl-reports-sowo-arrow--disabled': reportInfo.startIndex + 3 == reportInfo.totalCount || reportInfo.totalCount < 3}">
              <i class="fa fa-arrow-right"></i>
          </a>
      </td>
  </tr>
  <tr>
      <th colspan="5" class="gl-reports-divider--blue"></th>
  </tr>
  <tr>
    <th class="gl-reports-sowo-header-name">Name
      <i ng-class="col.current==='firstName' ? (col[col.current].reverse ? 'highlight fa fa-sort-up' : 'highlight fa fa-sort-down' ) : 'fa fa-sort-down'"
         ng-click="colName.value = 'firstName'; sortSelected('firstName')"></i>
    </th>
    <th class="gl-reports-sowo-header-sowo" ng-repeat="header in reportInfo.activeHeaders">
      <div class="gl-reports-sowo-header text-center">
        <div><span ng-bind="header.title"> </span>
          <i ng-class="col.current===header.title ? (col[col.current].reverse ? 'highlight fa fa-sort-up' : 'highlight fa fa-sort-down' ) : 'fa fa-sort-down'"
             ng-click="colName.value = header.title; sortSelected(header.title)"></i>
        </div>
        <div collapse="isCollapsed.value" class="gl-reports-sowo-header-info"
             ng-bind="header.description"></div>
      </div>
      <div class="gl-reports-sowo-collapse">
        <i ng-class="$index === 0 ? (isCollapsed.value ? 'fa fa-caret-square-o-down' : 'fa fa-caret-square-o-up') : ''"
           ng-click="isCollapsed.value = !isCollapsed.value; saveState(!isCollapsed.value)"></i>
      </div>
    </th>
  </tr>
  <tr>
    <th colspan="5" class="gl-reports-divider--blue"></th>
  </tr>
  </thead>

    <tbody ng-show="courses.options[courses.selectedCourseId].users">
    <tr class="gl-reports-table-row"
        ng-repeat="student in courses.options[courses.selectedCourseId].users | hasSOWO: reportInfo.selectedGroupId | orderBy:userSortFunction(colName.value):col[col.current].reverse">
        <td class="gl-nobr">
          {{ student.firstName }} {{ student.lastName }}.</td>
        <td class="gl-reports-sowo" ng-repeat="sowo in reportInfo.activeHeaders">
          <div ng-class="getLabelInfo(reportInfo.selectedGroupId)"
            ng-if="features.canRemoveWO"
            ng-click="removeWO(sowo.id, student)"
            ng-attr-title="{{(reportInfo.selectedGroupId == 'wo') ? 'Remove Watch Out' : ''}}"
              ng-show="hasSOWO(sowo.id, student)"></div>
          <div ng-class="getLabelInfo(reportInfo.selectedGroupId)"
            ng-if="!features.canRemoveWO"
            ng-show="hasSOWO(sowo.id, student)"></div>
        </td>
    </tr>
    </tbody>
  <tr ng-hide="courses.options[courses.selectedCourseId].users">
    <td colspan="5" >
      <div class="text-center gl-pad-Vxxl">
        No students are currently enrolled in this class. As students begin to play the game and earn comps, you
        will see them here.
      </div>
    </td>
  </tr>
    <tr style="height:100px" ng-show="reportInfo.selectedGroupId==='wo'">
        <div class="gl-reports-what-now-container">
            <td colspan="5" class="gl-reports-what-now-header text-center">
            <h5 class="gl-reports-what-now-text">What Now ?</h5>
            <p>Here are some actions your students can take:</p>
            <i ng-class="whatNow.isCollapsed ? 'fa fa-caret-square-o-down' : 'fa fa-caret-square-o-up'"
                ng-click="whatNow.isCollapsed  = !whatNow.isCollapsed"></i>
                <div class="gl-reports-what-now-body text-center" collapse="whatNow.isCollapsed">
                    </br>
                    </br>
                    Coming Soon!
                    </br>
                    </br>
                    </br>
                </div>
            </td>

        </div>
    </tr>
  </tbody>
</table>


  </div>
</div>
