<div class="report-container--wide gl-margin--Txl gl-margin--Bxl">
    <div ng-include src="'instructor/reports/_students.html'"></div>

    <div class="report-body report-body--wide gl-pad-Al" style="min-height: 623px">
        <div class="fa fa-question-circle gl-drk12_b-question gl-clickable"
             ui-sref="modal-xlg.drk12_bInfo({type:'info'})"></div>
        <h1 class="headline-2 text-center gl-margin--Tl">Progress Report</h1>

        <p class="text-center" ng-bind="reports.selected.description"></p>

        <tabset justified="true">
            <tab heading="Class View">
                <h3>Class Progress</h3>
                <div id="drk12_bChart" ng-init="doDrawCourseStatusChart()">Chart Data</div> <!-- TODO: Redine this -->
                <h3>Current Class Skill Level</h3>
                <article class="legend-header">
                    <p class="legend-header"><span>Competency Levels</span></p>
                </article>
                <div class="gl-reports-drk12_b-labels-box" ng-repeat="progressType in progressTypes">
                    <div class="gl-reports-drk12_b-labels-icon">
                        <div ng-class="progressType.class" class="gl-drk12_b-rating gl-drk12_b-rating--small"></div>
                    </div>
                    <div class="gl-reports-drk12_b-labels-text">{{progressType.title}}</div>
                </div>
                <hr/>
                <div class="gl-reports-drk12_b-labels-box">
                    <div class="gl-reports-drk12_b-labels-icon--large">
                        <div class="gl-drk12_b-rating gl-drk12_b-rating--large" ng-class="getFirstCriteriaLevel()"></div>
                    </div>
                    <div class="gl-reports-drk12_b-labels-text--large">Connecting Evidence to Argument Schemes</div>
                </div>
                <div class="gl-reports-drk12_b-labels-box">
                    <div class="gl-reports-drk12_b-labels-icon--large">
                        <div class="gl-drk12_b-rating gl-drk12_b-rating--large" ng-class="getSecondCriteriaLevel()"></div>
                    </div>
                    <div class="gl-reports-drk12_b-labels-text--large">Supporting Claims with Evidence</div>
                </div>
                <div class="gl-reports-drk12_b-labels-box">
                    <div class="gl-reports-drk12_b-labels-icon--large">
                        <div class="gl-drk12_b-rating gl-drk12_b-rating--large" ng-class="getThirdCriteriaLevel()"></div>
                    </div>
                    <div class="gl-reports-drk12_b-labels-text--large">Using Critical Questions</div>
                </div>
                <div class="gl-reports-drk12_b-labels-box">
                    <div class="gl-reports-drk12_b-labels-icon--large">
                        <div class="gl-drk12_b-rating gl-drk12_b-rating--large" ng-class="getForthCriteriaLevel()"></div>
                    </div>
                    <div class="gl-reports-drk12_b-labels-text--large">Using Backing</div>
                </div>
            </tab>
            <tab heading="Student View">
                <article class="legend-header">
                    <p class="legend-header"><span>Competency Levels</span></p>
                </article>
                <div class="gl-reports-drk12_b-labels-box" ng-repeat="progressType in progressTypes">
                    <div class="gl-reports-drk12_b-labels-icon">
                        <div ng-class="progressType.class" class="gl-drk12_b-rating gl-drk12_b-rating--small"></div>
                    </div>
                    <div class="gl-reports-drk12_b-labels-text">{{progressType.title}}</div>
                </div>
                <hr/>
                <!-- TODO: Should this be responsive-->
                <table class="gl-reports-drk12_b-default-text">
                    <tr>
                        <td class="bold">Select Competency Skills</td>
                        <td ng-repeat="(key, value) in skillsForDisplay">
                            <label for="{{key}}">
                                <input id="{{key}}" type="checkbox" checked="{{value.checked}}"/>
                                <span>{{value.name}}</span>
                            </label>
                        </td>
                    </tr>
                </table>
                <table class="gl-reports-drk12_b-default-text table gl-reports-table" ng-class="{'gl-reports-table--ie': isIE}">
                    <thead>
                        <tr>
                            <th rowspan="2">Name</th>
                            <th rowspan="2">Current Mission</th>
                            <th colspan="4">Progress for Most Recent Level</th>
                        </tr>
                        <tr>
                            <!-- first th is covered by previous row -->
                            <!-- second th is covered by previous row -->
                            <th>Connecting Evidence to Argument Schemes</th>
                            <th>Supporting Claims with Evidence</th>
                            <th>Using Critical Questions</th>
                            <th>Using Backing</th>
                        </tr>
                        <tr>
                            <th colspan="6" class="gl-reports-divider--blue"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="student in students" class="gl-reports-table-row">
                            <td>
                                {{student[0].firstName}} {{student[0].lastName}}
                                <div class="gl-clickable"
                                     ng-click="setCurrentStudent(student[0])"
                                     ui-sref="modal-xlg.drk12_bInfo({type:'studentInfo', studentId: student.id})">
                                    Performance Over Time
                                </div>
                            </td>
                            <td>{{student[0].results.currentProgress.mission}} / {{reportData.totalMissions}}</td>
                            <td>
                                <div class="gl-drk12_b-rating" ng-class="student[0].results.currentProgress.connectingEvidence.level"></div>
                            </td>
                            <td>
                                <div class="gl-drk12_b-rating" ng-class="student[0].results.currentProgress.supportingClaims.level"></div>
                            </td>
                            <td>
                                <div class="gl-drk12_b-rating" ng-class="student[0].results.currentProgress.criticalQuestions.level"></div>
                            </td>
                            <td>
                                <div class="gl-drk12_b-rating" ng-class="student[0].results.currentProgress.usingBacking.level"></div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </tab>
        </tabset>
    </div>
    <script type="text/javascript">
        $('#drk12_b-header').on('scroll', function () {
            $('#drk12_b-body').scrollLeft($(this).scrollLeft());
        });

        $('#drk12_b-body').on('scroll', function () {
            $('#drk12_b-header').scrollLeft($(this).scrollLeft());
        });
    </script>
</div>
