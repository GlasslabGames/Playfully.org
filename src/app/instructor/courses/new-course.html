<div class="modal-header">
  <button type="button" class="close" data-dismiss="modal" ng-click="$close()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
  <h3 class="modal-title" ng-hide="formProgress.currentStep == 3">Create Class</h3>
  <h3 class="modal-title" ng-show="formProgress.currentStep == 3">Successfully Created</h3>
</div>

<div class="modal-body" ng-hide="formProgress.currentStep == 3">
  <alert ng-repeat="error in formProgress.errors" ng-show="formProgress.errors.length" type="danger"><strong>Error:</strong> {{ error }}</alert>

  <form name="newCourseForm" id="newCourseForm" novalidate class="gl-courses-form"
    ng-submit="createCourse(course)">



    <div ng-hide="formProgress.currentStep > 1">

      <div class="form-group form-group--labeled" ng-class="{'has-error': newCourseForm.title.$dirty && newCourseForm.title.$invalid}">
        <label for="title">Name your Class</label>
        <input type="text" name="title" class="form-control"
          placeholder="e.g. First Period Science"
          required
          autofocus="autofocus"
          ng-model="course.title"
          ng-minlength="2">
          <div class="form-errors">
            <div class="form-error" ng-show="newCourseForm.title.$dirty && newCourseForm.title.$invalid">
              Name must be at least 2 characters
            </div>
          </div>
      </div>

      <div class="form-group">
        <label>Grade Levels</label>
        <div>
          <div class="gl-courses-grade-selector" ng-repeat="grade in gradeLevels">
            <input type="checkbox"
              class="gl-courses-grade-checkbox"
              id="grade-{{ grade }}"
              value="{{ grade }}"
              checklist-model="course.grade"
              checklist-value="grade"
              ng-required="!course.grade.length">
            <label class="gl-courses-grade-option"
              for="grade-{{ grade }}">
              {{ grade }}
            </label>
          </div>
        </div>
      </div>

      <div class="text-center gl-courses-submit">
        <button type="button" class="btn gl-btn--grey"
          ng-click="$dismiss()">Cancel</button>
        <button type="button" class="btn gl-btn--blue"
          ng-disabled="newCourseForm.title.$invalid || !course.grade.length"
          ng-click="formProgress.goToNextStep()">Continue</button>
      </div>

    </div>

    <div ng-show="formProgress.currentStep == 2">

      <label>Select the game(s) you would like to assign to this class:</label>
      
      <div class="gl-course-game-options">
        <div class="gl-course-game-option" ng-repeat="game in games">
          <input type="checkbox"
            class="gl-courses-game-checkbox"
            id="game-{{ game.gameId }}"
            value="{{ game.gameId }}"
            checklist-model="course.games"
            checklist-value="game"
            ng-required="!course.games.length">
          <label for="game-{{ game.gameId }}" ng-click="logIt()">
            <div class="gl-course-game-thumbnail gl-thumb-{{ game.gameId }}">
              <div class="gl-course-game-lock"
                ng-class="{'gl-course-game-unlocked': !game.settings.missionProgressLock}"
                ng-click="toggleGameLock($event, game)"
                ng-show="game.settings.hasOwnProperty('missionProgressLock')"></div>
              <div class="gl-course-game-indicator"></div>
            </div>
            <span ng-bind="game.longName"></span>
          </label>
        </div>
      </div>


      <div class="text-center gl-courses-submit">
        <button type="button" class="btn gl-btn--grey" ng-click="$dismiss()">Cancel</button>
        <input type="submit" class="btn gl-btn--blue" value="Continue"
        ng-disabled="newCourseForm.$invalid">
      </div>
    </div>
  </form>
</div>



<div class="modal-body" ng-show="formProgress.currentStep == 3">

  <div class="gl-course-create-confirm text-center">
    <div>Class Code</div>
    <div class="gl-course-create-code" ng-bind="createdCourse.code">
    </div>
  </div>

  <p class="text-center">
    Placeholder explanatory text.
  </p>

  <div class="text-center gl-courses-submit">
    <button type="button" class="btn gl-btn--grey" ng-click="reset()">Add More</button>
    <button type="button" class="btn gl-btn--blue" ui-sref="courses" ng-click="$dismiss()">Done</button>
  </div>
</div>
